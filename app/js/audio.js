var _player=document.createElement("audio"),_playerWrap=document.createElement("span"),_playlist=document.getElementById("playlist");function nextElemSibling(e){do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}function playlistItemClick(e){var l=_playlist.querySelector(".selected");l&&l.classList.remove("selected"),e.classList.add("selected"),e.appendChild(_playerWrap),_player.src=e.getAttribute("data-mp3"),_player.play()}function playNext(){var e=_playlist.querySelector("li.selected");e&&nextElemSibling(e)?playlistItemClick(nextElemSibling(e)):(e.classList.remove("selected"),e.removeChild(_playerWrap))}_player.id="player",_player.setAttribute("controls",""),_playerWrap.appendChild(_player),_playerWrap.className="playerWrap",_player.addEventListener("ended",playNext),_playlist&&_playlist.addEventListener("click",function(e){e.target&&"LI"===e.target.nodeName&&playlistItemClick(e.target)});